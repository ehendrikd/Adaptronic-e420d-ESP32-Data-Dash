!function(e,n){var t=n(e);"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.Gauge=t}("undefined"==typeof window?this:window,function(e,n){function t(e){function n(){var e=a/r,t=l*d(e)+o;s(t,a),a+=1,e<1&&i(n)}var t=e.duration,a=1,r=60*t,o=e.start||0,u=e.end,l=u-o,s=e.step,d=e.easing||function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};i(n)}var a=e.document,r=Array.prototype.slice,i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=function(){function e(){var e=arguments[0],n=r.call(arguments,1);return n.forEach(function(n){for(k in n)n.hasOwnProperty(k)&&(e[k]=n[k])}),e}function n(e,n,t){var r=a.createElementNS(d,e);for(var i in n)r.setAttribute(i,n[i]);return t&&t.forEach(function(e){r.appendChild(e)}),r}function i(e,n){return e*n/100}function o(e,n,t){var a=Number(e);return a>t?t:a<n?n:a}function u(e,n,t){var a=t-n,r=e-n;return 100*r/a}function l(e,n,t,a){var r=a*Math.PI/180;return{x:Math.round(1e3*(e+t*Math.cos(r)))/1e3,y:Math.round(1e3*(n+t*Math.sin(r)))/1e3}}function s(e,n,t){var a=f.centerX,r=f.centerY;return{end:l(a,r,e,t),start:l(a,r,e,n)}}var d="http://www.w3.org/2000/svg",f={centerX:50,centerY:50},c={dialRadius:40,dialStartAngle:135,dialEndAngle:45,value:0,max:100,min:0,valueDialClass:"value",valueClass:"value-text",dialClass:"dial",gaugeClass:"gauge",showValue:!0,gaugeColor:null,label:function(e){return Math.round(e)}};return function(a,r){function l(e,n,t,a){var r=s(e,n,t),i=r.start,o=r.end,u="undefined"==typeof a?1:a;return["M",i.x,i.y,"A",e,e,0,u,1,o.x,o.y].join(" ")}function d(e){m=n("text",{x:50,y:50,fill:"#999","class":V,"font-size":"100%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle","alignment-baseline":"middle","dominant-baseline":"central"}),h=n("path",{"class":M,fill:"none",stroke:"#666","stroke-width":2.5,d:l(b,C,C)});var t=i(100,360-Math.abs(C-k)),a=t<=180?0:1,r=n("svg",{viewBox:S||"0 0 100 100","class":E},[n("path",{"class":R,fill:"none",stroke:"#eee","stroke-width":2,d:l(b,C,k,a)}),m,h]);e.appendChild(r)}function f(e,n){var t=u(e,A,w),a=i(t,360-Math.abs(C-k)),o=a<=180?0:1;y&&(m.textContent=F.call(r,e)),h.setAttribute("d",l(b,C,a+C,o))}function v(e,n){var t=q(e),a=1e3*n,r="stroke "+a+"ms ease";h.style=["stroke: "+t,"-webkit-transition: "+r,"-moz-transition: "+r,"transition: "+r].join(";")}r=e({},c,r);var m,h,g,p=a,w=r.max,A=r.min,x=o(r.value,A,w),b=r.dialRadius,y=r.showValue,C=r.dialStartAngle,k=r.dialEndAngle,M=r.valueDialClass,V=r.valueClass,R=(r.valueLabelClass,r.dialClass),E=r.gaugeClass,q=r.color,F=r.label,S=r.viewBox;if(C<k){console.log("WARN! startAngle < endAngle, Swapping");var j=C;C=k,k=j}return g={setMaxValue:function(e){w=e},setValue:function(e){x=o(e,A,w),q&&v(x,0),f(x)},setValueAnimated:function(e,n){var a=x;x=o(e,A,w),a!==x&&(q&&v(x,n),t({start:a||0,end:x,duration:n||1,step:function(e,n){f(e,n)}}))},getValue:function(){return x}},d(p),g.setValue(x),g}}();return o});